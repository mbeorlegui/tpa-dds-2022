@startuml TPA-1

class Organizacion {
  razonSocial : String
  tipo : Tipo
  ubicacion : Ubicacion
  sectores : List<Sector>
  clasificacion : Clasificacion
  void addSector(sector)
  void crearNuevoSector()
  bool esSectorDeLaOrganizacion(Sector)
  int cantidadDeSectores()
  int cantidadDeMiembros()
  void crearNuevoSector()
}

class Ubicacion {
  latitud : double
  longitud : double
}

class Sector {
  miembros : List<Miembro>
  organizacion : Organizacion
  void addMiembro(Miembro)
}

class Miembro {
  nombre : String
  apellido : String
  nroDocumento : int
  tipoDocumento : Documento
  sectores : List<Sector>
  trayecto : Trayecto
  void addSector(Sector)
}
' Ponemos lista de sectores en el Miembro
' y que cada sector conozca su organizacion,
' de forma tal que el miembro pueda acceder a su
' organizacion mediante el sector

enum Documento {
  DNI,
  LIBRETA,
}

enum Tipo {
  GUBERNAMENTAL,
  ONG,
  EMPRESA,
  INSTITUCION,
}

enum Clasificacion {
  MINISTERIO,
  UNIVERSIDAD,
  ESCUELA,
  EMPRESA_DEL_SECTOR_PRIMARIO,
  EMPRESA_DEL_SECTOR_SECUNDARIO,
}

' Usamos strategy para los medios de transportes
abstract class Transporte {
  tipoTransporte : TipoTransporte
}

enum TipoTransporte {
  PUBLICO,
  PARTICULAR,
  CONTRATADO,
  BICICLETA,
  PIE,
}

class VehiculoParticular {
  tipoDeVehiculo : TipoDeVehiculo
  combustible : Combustible
}

class TransportePublico {
  tipoDeTransportePublico : TipoDeTransportePublico
  paradas : List<Ubicacion>
  linea : String
  void addParadas(Ubicaciones)
  bool tieneUnaParadaEn(Ubicacion)
}

class ServicioContratado {
  tipoDeServicioContratado : TipoDeServicioContratado
}

' Se refiere a caminar o a bicicleta
class Pie {

}

class Bicicleta {

}


enum TipoDeTransportePublico {
  SUBTE,
  TREN,
  COLECTIVO,
}

enum TipoDeVehiculo {
  AUTO,
  MOTO,
  CAMIONETA,
}

enum TipoDeServicioContratado{
  TAXI,
  REMIS,
}

enum Combustible {
  GNC,
  NAFTA,
  ELECTRICO,
  GASOIL,
}

class Tramo {
  inicioDeTramo : Ubicacion
  finDeTramo : Ubicacion
  transporteUtilizado : Transporte
}

class Trayecto {
  tramos : List<Tramo>
}

class Administrador {
  user : String
  password : String
}

class PasswordValidator {
  INSTANCE : Singleton
  bool passwordEsComun(password)
  bool passwordEsValido(password, user)
  Singleton getIstance()
}

Miembro "*"<-->"*" Sector
Organizacion -up-> Tipo
Organizacion -up-> Clasificacion
Organizacion --> Ubicacion
Organizacion "1"<-->"*" Sector
Miembro -up-> Documento

Trayecto --> "*" Tramo
Trayecto <-- Miembro
Tramo --> Transporte
Tramo -->"2" Ubicacion

Transporte -up-> TipoTransporte
TransportePublico -up->"*" Ubicacion
TransportePublico --> TipoDeTransportePublico
VehiculoParticular -down-> TipoDeVehiculo
VehiculoParticular -up-> Combustible
ServicioContratado -down-> TipoDeServicioContratado
TransportePublico -up-|> Transporte
VehiculoParticular -up-|> Transporte
Pie -up-|> Transporte
Bicicleta -up-|> Transporte
ServicioContratado -up-|> Transporte

Administrador -right-> PasswordValidator

'PasswordValidator .up.>
@enduml